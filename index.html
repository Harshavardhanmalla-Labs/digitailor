<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DigiTailor – Resume Tailoring Platform</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { --brand:#3b82f6; --brand-dark:#2563eb; --bg:#0b1220; }
    body { font-family: Inter, sans-serif; background: var(--bg); color: #e5e7eb; }
    .card { background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03)); border: 1px solid rgba(255,255,255,0.08); border-radius: 16px; backdrop-filter: blur(12px); }
    .glass { background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.08); border-radius: 14px; }
    .pill { border:1px dashed rgba(255,255,255,.18); border-radius:999px; padding:.35rem .65rem; font-size:.8rem; color:#cbd5e1;}
    .btn { background: var(--brand); color:white; border-radius:12px; padding:.7rem 1rem; font-weight:600; }
    .btn:hover { background: var(--brand-dark);}
    textarea, input { background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); border-radius:12px; color:#e5e7eb; }
    textarea:focus, input:focus { border-color: rgba(59,130,246,.6); box-shadow: 0 0 0 4px rgba(59,130,246,.15);}
    .meter { height: 12px; background: rgba(255,255,255,.08); border-radius: 999px; overflow: hidden; }
    .meter > span { display:block; height:100%; background: linear-gradient(90deg, #22c55e, #84cc16); }
    .badge { background:rgba(34,197,94,.12); color:#86efac; padding:.25rem .5rem; border-radius:999px; font-size:.75rem; border:1px solid rgba(34,197,94,.3);}
    .warn { background:rgba(245,158,11,.12); color:#fde68a; padding:.25rem .5rem; border-radius:999px; font-size:.75rem; border:1px solid rgba(245,158,11,.3);}
    .danger { background:rgba(239,68,68,.12); color:#fecaca; padding:.25rem .5rem; border-radius:999px; font-size:.75rem; border:1px solid rgba(239,68,68,.3);}
  </style>
</head>
<body>
  <header class="max-w-6xl mx-auto px-5 pt-8 pb-6 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <img src="Logo_Big.png" alt="DigiTailor logo" class="w-12 h-12 rounded-lg">
      <div>
        <h1 class="text-3xl font-extrabold">DigiTailor</h1>
        <p class="text-slate-400 text-sm">ATS Score • Tailored Resume • LinkedIn Optimization</p>
      </div>
    </div>
    <span class="pill">Private & Client-side</span>
  </header>

  <main class="max-w-6xl mx-auto px-5 pb-24">
    <!-- Job Description & Resume Input -->
    <section class="grid md:grid-cols-2 gap-6 mb-8">
      <div class="card p-6">
        <h3 class="text-xl font-bold mb-3">Job Description</h3>
        <textarea id="jd" class="w-full h-56 p-4" placeholder="Paste the Job Description here…"></textarea>
        <button id="analyzeBtn" class="btn mt-3">Analyze</button>
      </div>
      <div class="card p-6">
        <h3 class="text-xl font-bold mb-3">Your Resume</h3>
        <textarea id="resume" class="w-full h-56 p-4" placeholder="Paste your resume here…"></textarea>
        <button id="tailorBtn" class="btn mt-3">Tailor Resume</button>
      </div>
    </section>

    <!-- ATS Score -->
    <section class="card p-6 mb-8">
      <h3 class="text-xl font-bold mb-2">ATS Score</h3>
      <div class="meter mb-2"><span id="atsBar" style="width:0%"></span></div>
      <div class="flex items-center gap-3">
        <div id="atsScore" class="text-3xl font-extrabold">—</div>
        <div id="atsBadge" class="badge hidden">Good match</div>
        <div id="atsWarn" class="warn hidden">Needs work</div>
        <div id="atsDanger" class="danger hidden">Low match</div>
      </div>
      <p id="atsHint" class="text-slate-400 text-sm mt-2"></p>
    </section>

    <!-- Tailored Content -->
    <section class="grid md:grid-cols-2 gap-6">
      <div class="card p-6">
        <h3 class="text-xl font-bold mb-3">Tailored Summary</h3>
        <textarea id="tailoredSummary" class="w-full h-32 p-3"></textarea>
        <button class="btn mt-3" id="copySummary">Copy</button>
      </div>
      <div class="card p-6">
        <h3 class="text-xl font-bold mb-3">Tailored Bullets</h3>
        <textarea id="tailoredBullets" class="w-full h-32 p-3"></textarea>
        <button class="btn mt-3" id="copyBullets">Copy</button>
      </div>
    </section>
  </main>

  <script>
    const $ = s => document.querySelector(s);
    const STOP = new Set("a,an,and,the,or,but,if,then,else,when,at,from,into,by,for,with,without,of,on,off,over,under,to,in,out,up,down,as,about,is,are,was,were,be,been,being".split(','));
    function tokenize(txt){ return (txt||"").toLowerCase().replace(/[^a-z0-9+]/g,' ').split(/\s+/).filter(w=>w && !STOP.has(w)); }
    function computeATS(jd,resume){
      const jdTokens = tokenize(jd);
      const resTokens = tokenize(resume);
      const uniqueJD = [...new Set(jdTokens)];
      const matchCount = uniqueJD.filter(k=>resTokens.includes(k)).length;
      const score = uniqueJD.length ? Math.round((matchCount/uniqueJD.length)*100) : 0;
      return {score, missing: uniqueJD.filter(k=>!resTokens.includes(k))};
    }
    $('#analyzeBtn').onclick = () => {
      const {score, missing} = computeATS($('#jd').value, $('#resume').value);
      $('#atsScore').textContent = score;
      $('#atsBar').style.width = score + "%";
      $('#atsBadge').classList.add('hidden');
      $('#atsWarn').classList.add('hidden');
      $('#atsDanger').classList.add('hidden');
      if(score >= 75) $('#atsBadge').classList.remove('hidden');
      else if(score >= 45) $('#atsWarn').classList.remove('hidden');
      else $('#atsDanger').classList.remove('hidden');
      $('#atsHint').textContent = "Missing keywords: " + missing.slice(0,10).join(', ');
    };
    $('#tailorBtn').onclick = () => {
      const jd = $('#jd').value;
      $('#tailoredSummary').value = "Tailored summary based on JD: " + jd.slice(0,100) + "...";
      $('#tailoredBullets').value = "• Bullet 1 aligned to JD\n• Bullet 2 with metrics\n• Bullet 3 with skills";
    };
    $('#copySummary').onclick = () => navigator.clipboard.writeText($('#tailoredSummary').value);
    $('#copyBullets').onclick = () => navigator.clipboard.writeText($('#tailoredBullets').value);
  </script>
</body>
</html>
